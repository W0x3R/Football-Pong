"use strict";function e(e,n){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,n){if(!e)return;if("string"==typeof e)return t(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t(e,n)}(e))||n&&e&&"number"==typeof e.length){r&&(e=r);var o=0,l=function(){};return{s:l,n:function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var n=document.querySelector(".field"),r=document.querySelector(".field__ball"),o=document.querySelector(".field__img"),l=document.querySelector(".player-one-score"),i=document.querySelector(".player-two-score"),a=document.querySelector(".field__restart-btn"),c=document.querySelector(".fullscreen-toggle"),s=document.createElement("h1");s.textContent="Please use landscape orientation and click on the icon to enable full screen mode for the game to work correctly!",s.classList.add("portrait-orientation__message");var u=0,f=function(e,t){return e.textContent=sessionStorage.getItem(t)},p=function(e,t){return sessionStorage.setItem(e,t)},y=function(){sessionStorage.getItem("playerOneScore")&&sessionStorage.getItem("playerTwoScore")?(f(l,"playerOneScore"),f(i,"playerTwoScore")):(l.textContent=0,i.textContent=0)};a.addEventListener("click",(function(){p("playerOneScore",0),p("playerTwoScore",0),f(l,"playerOneScore"),f(i,"playerTwoScore")}));var d=function(){return r.width},m=function(){return o.width},h=function(){return o.height},g=function(e){return parseInt(getComputedStyle(o).padding+e)},S=function(){return parseInt(h()/2)-d()/2+g("Top")},w=function(e){return new Promise((function(t){return setTimeout(t,e)}))},v=function(){"0"===sessionStorage.getItem("flag")?(r.style.left=25+g("Left")+"px",r.style.top=25+g("Top")+"px",w(50).then((function(){return r.style.transition="none"})),w(300).then((function(){return r.style.transition="all 0.6s ease-in"}))):(r.style.left=m()-d()+g("Left")-25+"px",r.style.top=25+g("Top")+"px",w(50).then((function(){return r.style.transition="none"})),w(300).then((function(){return r.style.transition="all 0.6s ease-in"})))};var x=function(){window.matchMedia("(orientation: portrait)").matches&&function(){n.classList.add("portrait-orientation"),n.append(s);var t,r=e(n.children);try{for(r.s();!(t=r.n()).done;){var o=t.value;if("H1"===o.tagName)break;o.style.display="none"}}catch(e){r.e(e)}finally{r.f()}v()}(),window.matchMedia("(orientation: landscape)").matches&&function(){n.classList.remove("portrait-orientation"),s.remove();var t,r=e(n.children);try{for(r.s();!(t=r.n()).done;){var o=t.value;"players-score"===o.className?o.style.display="flex":o.style.display="block"}}catch(e){r.e(e)}finally{r.f()}v()}()};function b(){var e=25+Math.ceil(g("Top")),t=Math.floor(h()-d()+g("Bottom")-25);return Math.floor(Math.random()*(t-e+1)+e)}function I(){new Audio("goal.mp3").play()}function E(){new Audio("hit-the-net.mp3").play()}window.addEventListener("resize",(function(){v(),x(),y()})),window.addEventListener("load",(function(){x(),v(),y()})),c.addEventListener("click",(function(){var e=window.document,t=e.documentElement,n=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,r=e.exitFullscreen||e.mozCancelFullScreen||e.webkitExitFullscreen||e.msExitFullscreen;e.fullscreenElement||e.mozFullScreenElement||e.webkitFullscreenElement||e.msFullscreenElement?r.call(e):n.call(t)}));var T=function(){return S()>=605||S()<=604&&S()>=570?183:S()<=569&&S()>=540?172:S()<=539&&S()>=520?164:S()<=519&&S()>=500?157:S()<=499&&S()>=470?145:S()<=469&&S()>=446?137:S()<=445&&S()>=420?127:S()<=419&&S()>=388?116:S()<=387&&S()>=360?108:S()<=359&&S()>=332?100:S()<=331&&S()>=300?88:S()<=299&&S()>=282?78:S()<=281.5&&S()>=261.5?76:S()<=260.5&&S()>=246.5?73:S()<=245.5&&S()>=223.5?68:S()<=222.5&&S()>=208.5?62:18};function k(e){w(700).then((function(){return e.style.color="red"})),w(1600).then((function(){return e.style.color="#e4ff00"}))}r.addEventListener("click",(function(){new Audio("kick.mp3").play(),"0"===sessionStorage.getItem("flag")?(r.style.left=m()-d()+ +g("Right")-25+"px",r.style.top=b()+"px",parseInt(r.style.top)<=S()+T()&&parseInt(r.style.top)>=S()-T()&&(w(200).then(E),p("flag",u=1),w(700).then((function(){I(),l.textContent++,p("playerOneScore",l.textContent),r.style.left=m()-25,r.style.top=25+g("Top")+"px"})),k(l)),u++,p("flag",u)):(r.style.left=+g("Left")+25+"px",r.style.top=b()+"px",parseInt(r.style.top)<=S()+T()&&parseInt(r.style.top)>=S()-T()&&(w(200).then(E),w(700).then((function(){I(),i.textContent++,p("playerTwoScore",i.textContent),r.style.left=25+g("Left")+"px",r.style.top=25+g("Top")+"px"})),k(i)),p("flag",u=0))}));